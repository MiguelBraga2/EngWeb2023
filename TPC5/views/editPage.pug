extends layout

block content
  header.w3-container.w3-purple
    h1 Tasks server
  .w3-card-4 
    form.w3-container(method="POST")
      p
        label.w3-text-blue #[b Id]
        input.w3-input.w3-border.w3-light-gray(name="id" type="text" value=task.id readonly)
      p
      p
        label.w3-text-blue #[b Name]
        input.w3-input.w3-border.w3-light-gray(name="who" type="text" value=task.who)
      p
        label.w3-text-blue #[b Description]
        textarea.w3-input.w3-border.w3-light-gray(name="description") #{task.description}
      p
        label.w3-text-blue #[b Name]
        input.w3-input.w3-border.w3-light-gray(name="due_date" type="date" value=task.due_date)
      button.w3-btn.w3-blue.w3-margin-bottom(type="submit" action) Update task
      
  .w3-row.w3-card-4
    .w3-col.l6
      h3.w3-center TO DO Items
      ul
        each task in tasks
          if !task['done'] || task['done'] == "0"
            p
              li #{task.description} #[b until] #{task.due_date}
              a(href="/edit/" + task.id) [EDIT]
              a(href="/submit/" + task.id) [SUBMIT]
              a(href="/delete/" + task.id) [DELETE]
    .w3-col.l6
      h3.w3-center Items done
      ul
        each task in tasks
          if task['done'] && task['done'] == "1"
            p
              li #{task.description}
              a(href="/undo/" + task.id) [UNDO]
  footer.w3-container.w3-purple
    h5 Generated by EngWeb2023 in #{date}
